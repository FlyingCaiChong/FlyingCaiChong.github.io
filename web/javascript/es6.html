<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 相关 | Blog</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="Just a Blog">
    
    <link rel="preload" href="/assets/css/0.styles.0c683238.css" as="style"><link rel="preload" href="/assets/js/app.7c1f28a3.js" as="script"><link rel="preload" href="/assets/js/2.e37c797f.js" as="script"><link rel="preload" href="/assets/js/31.987990f2.js" as="script"><link rel="prefetch" href="/assets/js/10.d4da1c4c.js"><link rel="prefetch" href="/assets/js/11.4f972f67.js"><link rel="prefetch" href="/assets/js/12.5d3423c7.js"><link rel="prefetch" href="/assets/js/13.4bb3b436.js"><link rel="prefetch" href="/assets/js/14.f88758b0.js"><link rel="prefetch" href="/assets/js/15.e525b850.js"><link rel="prefetch" href="/assets/js/16.7125c981.js"><link rel="prefetch" href="/assets/js/17.53f97ef0.js"><link rel="prefetch" href="/assets/js/18.9a5de0b6.js"><link rel="prefetch" href="/assets/js/19.cc08a25e.js"><link rel="prefetch" href="/assets/js/20.16c4b0ac.js"><link rel="prefetch" href="/assets/js/21.ee563fbb.js"><link rel="prefetch" href="/assets/js/22.881cb22b.js"><link rel="prefetch" href="/assets/js/23.bc58b962.js"><link rel="prefetch" href="/assets/js/24.4739288a.js"><link rel="prefetch" href="/assets/js/25.e46ad35f.js"><link rel="prefetch" href="/assets/js/26.c7f900e1.js"><link rel="prefetch" href="/assets/js/27.516b71fa.js"><link rel="prefetch" href="/assets/js/28.9a7b7ccc.js"><link rel="prefetch" href="/assets/js/29.45aa1410.js"><link rel="prefetch" href="/assets/js/3.872bb4a3.js"><link rel="prefetch" href="/assets/js/30.ca09380e.js"><link rel="prefetch" href="/assets/js/32.39a290d8.js"><link rel="prefetch" href="/assets/js/33.facc320f.js"><link rel="prefetch" href="/assets/js/34.e593caaa.js"><link rel="prefetch" href="/assets/js/35.230c6320.js"><link rel="prefetch" href="/assets/js/36.ae706268.js"><link rel="prefetch" href="/assets/js/37.5b42feab.js"><link rel="prefetch" href="/assets/js/4.b869fa1a.js"><link rel="prefetch" href="/assets/js/5.01b45038.js"><link rel="prefetch" href="/assets/js/6.11ab0106.js"><link rel="prefetch" href="/assets/js/7.873df227.js"><link rel="prefetch" href="/assets/js/8.423629d4.js"><link rel="prefetch" href="/assets/js/9.d34e85cb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0c683238.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="iOS" class="dropdown-title"><span class="title">iOS</span> <span class="arrow down"></span></button> <button type="button" aria-label="iOS" class="mobile-dropdown-title"><span class="title">iOS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/Objective-C/" class="nav-link">
  Objective-C
</a></li><li class="dropdown-item"><!----> <a href="/iOS/Swift/" class="nav-link">
  Swift
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web" class="dropdown-title"><span class="title">Web</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web" class="mobile-dropdown-title"><span class="title">Web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/javascript/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/web/typescript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/web/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/web/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/web/css/" class="nav-link">
  CSS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tech/project/" class="nav-link">
  前端项目搭建规范
</a></li><li class="dropdown-item"><!----> <a href="/tech/package/" class="nav-link">
  前端包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/tech/navigator/" class="nav-link">
  常用工具
</a></li><li class="dropdown-item"><!----> <a href="/tech/regexp/" class="nav-link">
  正则表达式
</a></li></ul></div></div> <a href="https://github.com/FlyingCaiChong/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="iOS" class="dropdown-title"><span class="title">iOS</span> <span class="arrow down"></span></button> <button type="button" aria-label="iOS" class="mobile-dropdown-title"><span class="title">iOS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/Objective-C/" class="nav-link">
  Objective-C
</a></li><li class="dropdown-item"><!----> <a href="/iOS/Swift/" class="nav-link">
  Swift
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web" class="dropdown-title"><span class="title">Web</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web" class="mobile-dropdown-title"><span class="title">Web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/javascript/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/web/typescript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/web/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/web/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/web/css/" class="nav-link">
  CSS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tech/project/" class="nav-link">
  前端项目搭建规范
</a></li><li class="dropdown-item"><!----> <a href="/tech/package/" class="nav-link">
  前端包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/tech/navigator/" class="nav-link">
  常用工具
</a></li><li class="dropdown-item"><!----> <a href="/tech/regexp/" class="nav-link">
  正则表达式
</a></li></ul></div></div> <a href="https://github.com/FlyingCaiChong/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/web/javascript/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/web/javascript/memory.html" class="sidebar-link">JavaScript内存管理</a></li><li><a href="/web/javascript/concept.html" class="sidebar-link">JavaScript重点概念</a></li><li><a href="/web/javascript/function.html" class="sidebar-link">JavaScript函数</a></li><li><a href="/web/javascript/es6.html" aria-current="page" class="active sidebar-link">ES6 相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#let-和-const-关键字" class="sidebar-link">let 和 const 关键字</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#解构赋值" class="sidebar-link">解构赋值</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#扩展运算符与-rest-运算符" class="sidebar-link">扩展运算符与 rest 运算符</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#模版字符串" class="sidebar-link">模版字符串</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#箭头函数" class="sidebar-link">箭头函数</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#对于对象的扩展" class="sidebar-link">对于对象的扩展</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#symbol-类型" class="sidebar-link">Symbol 类型</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#set-数据结构和-map-数据结构" class="sidebar-link">Set 数据结构和 Map 数据结构</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#proxy" class="sidebar-link">Proxy</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#reflect" class="sidebar-link">Reflect</a></li><li class="sidebar-sub-header"><a href="/web/javascript/es6.html#promise" class="sidebar-link">Promise</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="es6-相关"><a href="#es6-相关" class="header-anchor">#</a> ES6 相关</h1> <h2 id="let-和-const-关键字"><a href="#let-和-const-关键字" class="header-anchor">#</a> let 和 const 关键字</h2> <p>在块级作用域内有效</p> <h3 id="let-关键字"><a href="#let-关键字" class="header-anchor">#</a> let 关键字</h3> <p>用于声明变量.</p> <p><strong>特性</strong></p> <ol><li>不存在变量提升</li> <li>存在暂时性死区</li> <li>不能重复声明</li> <li>不再是全局对象的属性</li></ol> <h3 id="const-关键字"><a href="#const-关键字" class="header-anchor">#</a> const 关键字</h3> <p>用于声明常量. 特性和 <code>let</code> 关键字相同.</p> <h2 id="解构赋值"><a href="#解构赋值" class="header-anchor">#</a> 解构赋值</h2> <h3 id="数组的解构赋值"><a href="#数组的解构赋值" class="header-anchor">#</a> 数组的解构赋值</h3> <p>针对数组，在解构赋值时，使用的是模式匹配，只要等号两边数组的模式相同，右边数组的值就会相应赋给左边数组的变量。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="_1-数组解构默认值"><a href="#_1-数组解构默认值" class="header-anchor">#</a> 1. 数组解构默认值</h5> <p>在数组解构时设置默认值，可以防止出现解构得到 <code>undefined</code> 值的情况.</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_2-交换变量"><a href="#_2-交换变量" class="header-anchor">#</a> 2. 交换变量</h5> <p>可以使用数组的解构赋值来交换变量</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="_3-解析函数返回的数组"><a href="#_3-解析函数返回的数组" class="header-anchor">#</a> 3. 解析函数返回的数组</h5> <p>可以使用数组的解构赋值来获取函数返回的数组值</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="_4-嵌套数组的解构"><a href="#_4-嵌套数组的解构" class="header-anchor">#</a> 4. 嵌套数组的解构</h5> <p>支持嵌套数组的解构</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 3]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="_5-函数参数解构"><a href="#_5-函数参数解构" class="header-anchor">#</a> 5. 函数参数解构</h5> <p>当函数的参数为数组类型时，可以将实参和形参进行解构。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="对象的解构赋值"><a href="#对象的解构赋值" class="header-anchor">#</a> 对象的解构赋值</h3> <p>对象解构赋值时, 右侧解构对象的属性名和左侧定义对象的变量名必须相同.</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> a<span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> b<span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> c <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, 2, 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>当 key 和 value 相同时, 可简写</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>对象解构赋值的原理是: 先找到左右两侧相同的属性名（<code>key</code>），然后再赋给对应的变量（<code>value</code>），真正被赋值的是 <code>value</code> 部分，并不是 <code>key</code> 的部分。</p> <h5 id="_1-对象解构的默认值"><a href="#_1-对象解构的默认值" class="header-anchor">#</a> 1. 对象解构的默认值</h5> <p>对象解构时可以设置默认值, 当解构结果为 <code>undefined</code> 时, 使用默认值</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_2-嵌套对象的解构"><a href="#_2-嵌套对象的解构" class="header-anchor">#</a> 2. 嵌套对象的解构</h5> <p>嵌套的对象同样可以解构</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> name <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// world</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h5 id="_3-选择性解构对象的属性"><a href="#_3-选择性解构对象的属性" class="header-anchor">#</a> 3. 选择性解构对象的属性</h5> <p>可以只解构对象的部分属性</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_4-函数参数解构"><a href="#_4-函数参数解构" class="header-anchor">#</a> 4. 函数参数解构</h5> <p>当函数的参数是一个复杂的对象类型时，可以通过解构去获得想要获取的值并赋给变量。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// John 30</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="扩展运算符与-rest-运算符"><a href="#扩展运算符与-rest-运算符" class="header-anchor">#</a> 扩展运算符与 rest 运算符</h2> <h3 id="扩展运算符"><a href="#扩展运算符" class="header-anchor">#</a> 扩展运算符</h3> <p>扩展运算符用 3 个点表示（<code>...</code>），用于将一个数组或类数组对象转换为用逗号分隔的值序列。</p> <p>它的基本用法是拆解数组和字符串。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2 3 4</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// h e l l o</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="_1-扩展运算符代替-apply-函数"><a href="#_1-扩展运算符代替-apply-函数" class="header-anchor">#</a> 1. 扩展运算符代替 apply()函数</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 使用apply函数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用扩展运算符</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="_2-扩展运算符代替-concat-函数合并数组"><a href="#_2-扩展运算符代替-concat-函数合并数组" class="header-anchor">#</a> 2. 扩展运算符代替 concat()函数合并数组</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 使用concat函数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用扩展运算符</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arr1<span class="token punctuation">,</span> <span class="token operator">...</span>arr2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="_3-扩展运算符转换-set-得到去重的数组"><a href="#_3-扩展运算符转换-set-得到去重的数组" class="header-anchor">#</a> 3. 扩展运算符转换 Set, 得到去重的数组</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 4, 6, 7]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_4-扩展运算符用于对象克隆"><a href="#_4-扩展运算符用于对象克隆" class="header-anchor">#</a> 4. 扩展运算符用于对象克隆</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;kobe&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj <span class="token punctuation">}</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 'John' }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 'kobe' }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>使用扩展运算符对数组或对象进行克隆时，如果数组的元素或者对象的属性是基本数据类型，则支持深克隆；如果是引用数据类型，则不支持深克隆</p> <h3 id="rest-运算符"><a href="#rest-运算符" class="header-anchor">#</a> rest 运算符</h3> <p><code>rest</code> 运算符同样使用 3 个点表示（<code>...</code>），其作用与扩展运算符相反，用于将以逗号分隔的值序列转换成数组。</p> <h5 id="_1-rest-运算符与解构组合使用"><a href="#_1-rest-运算符与解构组合使用" class="header-anchor">#</a> 1. rest 运算符与解构组合使用</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>arg1<span class="token punctuation">,</span> <span class="token operator">...</span>arg2<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'a'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['b', 'c', 'd']</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">...</span>z <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: 3, b: 4 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h5 id="_2-rest-运算符代替-arguments-处理函数参数"><a href="#_2-rest-运算符代替-arguments-处理函数参数" class="header-anchor">#</a> 2. rest 运算符代替 arguments 处理函数参数</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> arg <span class="token keyword">of</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">区分扩展运算符与 rest 运算符:</p> <ul><li>当 3 个点（<code>…</code>）出现在函数的形参上或者出现在赋值等号的左侧，则表示它为 rest 运算符。</li> <li>当 3 个点（<code>…</code>）出现在函数的实参上或者出现在赋值等号的右侧，则表示它为扩展运算符。</li></ul></div> <h2 id="模版字符串"><a href="#模版字符串" class="header-anchor">#</a> 模版字符串</h2> <p>模板字符串使用反引号（``）括起来，它可以当作普通的字符串使用，也可以用来定义多行字符串，同时支持在字符串中使用${}嵌入变量。</p> <h2 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数</h2> <p>基本语法如下:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">;</span>
<span class="token comment">// 等同于传统语法</span>
<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h3> <ol><li>语法简洁</li> <li>不绑定 <code>this</code></li> <li>不支持 <code>call()</code>函数与 <code>apply()</code>函数的特性</li> <li>不绑定 <code>arguments</code>, 可以借助 <code>rest</code> 运算符(<code>...</code>)来获取实参</li> <li>支持嵌套</li></ol> <h3 id="不适用的场景"><a href="#不适用的场景" class="header-anchor">#</a> 不适用的场景</h3> <ol><li>不适合作为对象的函数</li> <li>不能作为构造函数，不能使用 <code>new</code> 操作符</li> <li>没有 <code>prototype</code> 属性</li> <li>不适合将原型函数定义成箭头函数</li></ol> <h2 id="对于对象的扩展"><a href="#对于对象的扩展" class="header-anchor">#</a> 对于对象的扩展</h2> <h3 id="属性简写"><a href="#属性简写" class="header-anchor">#</a> 属性简写</h3> <p>传统的 <code>JavaScript</code> 中，对象都会采用<code>{key: value}</code>的写法，但是在 <code>ES6</code> 中，可以直接在对象中写入变量，<code>key</code> 相当于变量名，<code>value</code> 相当于变量值，并且可以直接省略 <code>value</code>，通过 <code>key</code> 表示一个对象的完整属性。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&quot;kobe&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 'kobe', age: 20 }</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> name<span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> age <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>函数也可以简写</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="属性遍历"><a href="#属性遍历" class="header-anchor">#</a> 属性遍历</h3> <p>5 种遍历方法</p> <ol><li><code>for...in</code>: 用于遍历对象自身和继承的可枚举属性（不包含 <code>Symbol</code> 属性）</li> <li><code>Object.keys(obj)</code>: 返回一个数组，包含对象自身所有可枚举属性，不包含继承属性和 <code>Symbol</code> 属性。</li> <li><code>Object.getOwnPropertyNames(obj)</code>: 返回一个数组，包含对象自身所有可枚举属性和不可枚举属性，不包含继承属性和 <code>Symbol</code> 属性。</li> <li><code>Object.getOwnPropertySymbols(obj)</code>: 返回一个数组，包含对象自身所有 <code>Symbol</code> 属性，不包含其他属性。</li> <li><code>Reflect.ownKeys(obj)</code>: 返回一个数组，包含可枚举属性、不可枚举属性以及 <code>Symbol</code> 属性，不包含继承属性。</li></ol> <h3 id="新增-object-assign-函数"><a href="#新增-object-assign-函数" class="header-anchor">#</a> 新增 Object.assign()函数</h3> <p><code>Object.assign()</code>函数用于将一个或者多个对象的可枚举属性赋值给目标对象，然后返回目标对象。当多个源对象具有相同的属性时，后者的属性值会覆盖前面的属性值。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> source1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> source2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> source3 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source1<span class="token punctuation">,</span> source2<span class="token punctuation">,</span> source3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: 1, b: 2, c: 4 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="symbol-类型"><a href="#symbol-类型" class="header-anchor">#</a> Symbol 类型</h2> <p><code>Symbol</code> 表示的是一个独一无二的值。</p> <h3 id="symbol-类型的特性"><a href="#symbol-类型的特性" class="header-anchor">#</a> Symbol 类型的特性</h3> <h5 id="_1-symbol-值的唯一性"><a href="#_1-symbol-值的唯一性" class="header-anchor">#</a> 1. Symbol 值的唯一性</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c <span class="token operator">===</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="_2-不能使用-new-操作符"><a href="#_2-不能使用-new-操作符" class="header-anchor">#</a> 2. 不能使用 new 操作符</h5> <p><code>Symbol</code> 函数并不是一个构造函数，因此不能通过 <code>new</code> 操作符创建 <code>Symbol</code> 值。</p> <h5 id="_3-不能参与类型运算"><a href="#_3-不能参与类型运算" class="header-anchor">#</a> 3. 不能参与类型运算</h5> <p><code>Symbol</code> 值可以通过 <code>toString()</code>函数显示地转换为字符串，但是本身不能参与其他类型值的运算</p> <h5 id="_4-可以使用同一个-symbol-值"><a href="#_4-可以使用同一个-symbol-值" class="header-anchor">#</a> 4. 可以使用同一个 Symbol 值</h5> <p>使用 <code>Symbol.for()</code>函数, 它接收一个字符串作为参数，然后搜索有没有以该参数作为名称的 <code>Symbol</code> 值。如果有，就返回这个 <code>Symbol</code> 值，否则就新建并返回一个以该字符串为名称的 <code>Symbol</code> 值.</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> s1 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1 <span class="token operator">===</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="symbol-类型的用法"><a href="#symbol-类型的用法" class="header-anchor">#</a> Symbol 类型的用法</h3> <ol><li>用作对象属性名</li> <li>用于属性区分</li> <li>用于属性名遍历</li></ol> <h2 id="set-数据结构和-map-数据结构"><a href="#set-数据结构和-map-数据结构" class="header-anchor">#</a> Set 数据结构和 Map 数据结构</h2> <h3 id="set-数据结构"><a href="#set-数据结构" class="header-anchor">#</a> Set 数据结构</h3> <p><code>ES6</code> 中新增了一种数据结构 <code>Set</code>，表示的是一组数据的集合，类似于数组，但是 <code>Set</code> 的成员值都是唯一的，没有重复。</p> <h4 id="set-实例的属性"><a href="#set-实例的属性" class="header-anchor">#</a> Set 实例的属性</h4> <ul><li><code>Set.prototype.constructor</code>: 构造函数，默认就是 <code>Set</code> 函数。</li> <li><code>Set.prototype.size</code>: 返回实例的成员总数。</li></ul> <h4 id="set-实例的函数"><a href="#set-实例的函数" class="header-anchor">#</a> Set 实例的函数</h4> <ul><li><code>Set.prototype.add(value)</code>: 添加一个值，返回 <code>Set</code> 结构本身。</li> <li><code>Set.prototype.delete(value)</code>: 删除某个值，返回布尔值。</li> <li><code>Set.prototype.has(value)</code>: 返回布尔值，表示是否是成员。</li> <li><code>Set.prototype.clear()</code>: 清除所有成员，无返回值。</li></ul> <h3 id="map-数据结构"><a href="#map-数据结构" class="header-anchor">#</a> Map 数据结构</h3> <p><code>ES6</code> 还增加了另一种数据结构 <code>Map</code>，与传统的对象字面量类似，它的本质是一种键值对的组合。但是与对象字面量不同的是，对象字面量的键只能是字符串，对于非字符串类型的值会采用强制类型转换成字符串，而 <code>Map</code> 的键却可以由各种类型的值组成。</p> <h4 id="map-实例属性和函数"><a href="#map-实例属性和函数" class="header-anchor">#</a> Map 实例属性和函数</h4> <ul><li><code>size</code>: 返回 <code>Map</code> 结构的成员总数。</li> <li><code>set(key, value)</code>: <code>set()</code>函数设置键名 <code>key</code> 对应的键值为 <code>value</code>，<code>set()</code>函数返回的是当前 <code>Map</code> 对象，因此 <code>set()</code>函数可以采用链式调用的写法。</li> <li><code>get(key)</code>: <code>get()</code>函数读取 <code>key</code> 对应的键值，如果找不到 <code>key</code>，返回<code>undefined</code>。</li> <li><code>has(key)</code>: <code>has()</code>函数返回一个布尔值，表示某个键是否在当前 <code>Map</code> 对象中。</li> <li><code>delete(key)</code>: <code>delete()</code>函数删除某个键，返回<code>true</code>；如果删除失败，返回<code>false</code>。</li> <li><code>clear()</code>: <code>clear()</code>函数清除所有成员，没有返回值。</li></ul> <h2 id="proxy"><a href="#proxy" class="header-anchor">#</a> Proxy</h2> <h3 id="proxy-概述"><a href="#proxy-概述" class="header-anchor">#</a> Proxy 概述</h3> <p><code>ES6</code> 中新增了 <code>Proxy</code> 对象，从字面上看可以理解为代理器，主要用于改变对象的默认访问行为，实际表现是在访问对象之前增加一层拦截，任何对对象的访问行为都会通过这层拦截。在拦截中，我们可以增加自定义的行为。</p> <p>基本语法如下所示:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>它实际是一个构造函数，接收两个参数，一个是目标对象 <code>target</code>；另一个是配置对象 <code>handler</code>，用来定义拦截的行为。</p> <p>通过 <code>Proxy</code> 构造函数可以生成实例 <code>proxy</code>，任何对 <code>proxy</code> 实例的属性的访问都会自动转发至 <code>target</code> 对象上，可以针对访问的行为配置自定义的 <code>handler</code> 对象，因此外界通过 <code>proxy</code> 访问 <code>target</code> 对象的属性时，都会执行 <code>handler</code> 对象自定义的拦截操作。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;kobe&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;访问了person的属性&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 访问了person的属性</span>
<span class="token comment">// kobe</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <ol><li>必须通过代理实例访问</li> <li>配置对象不能为空对象</li></ol></div> <h3 id="proxy-实例函数"><a href="#proxy-实例函数" class="header-anchor">#</a> Proxy 实例函数</h3> <h5 id="_1-get-target-propkey-receiver"><a href="#_1-get-target-propkey-receiver" class="header-anchor">#</a> 1. get(target, propKey, receiver)</h5> <p>拦截对象属性的读取操作，例如调用 <code>proxy.name</code> 或者 <code>proxy[name]</code>，其中 <code>target</code> 表示的是目标对象，<code>propKey</code> 表示的是读取的属性值，<code>receiver</code> 表示的是配置对象。</p> <h5 id="_2-set-target-propkey-value-receiver"><a href="#_2-set-target-propkey-value-receiver" class="header-anchor">#</a> 2. set(target, propKey, value, receiver)</h5> <p>拦截对象属性的写操作，即设置属性值，例如 <code>proxy.name='kobe'</code>或者 <code>proxy[name]='kobe'</code>，其中 <code>target</code> 表示目标对象，<code>propKey</code> 表示的是将要设置的属性，<code>value</code> 表示将要设置的属性的值，<code>receiver</code> 表示的是配置对象。</p> <h5 id="_3-has-target-propkey"><a href="#_3-has-target-propkey" class="header-anchor">#</a> 3. has(target, propKey)</h5> <p>拦截 <code>hasProperty</code> 的操作，返回一个布尔值，最典型的表现形式是执行 <code>propKey in target</code>，其中 <code>target</code> 表示目标对象，<code>propKey</code> 表示判断的属性。</p> <h5 id="_4-deleteproperty-target-propkey"><a href="#_4-deleteproperty-target-propkey" class="header-anchor">#</a> 4. deleteProperty(target, propKey)</h5> <p>拦截 <code>delete proxy[propKey]</code>的操作，返回一个布尔值，表示是否执行成功，其中 <code>target</code> 表示目标对象，<code>propKey</code> 表示将要删除的属性。</p> <h5 id="_5-ownkeys-target"><a href="#_5-ownkeys-target" class="header-anchor">#</a> 5. ownKeys(target)</h5> <p>拦截 <code>Object.getOwnPropertyNames(proxy)</code>、<code>Object.getOwnPropertySymbols(proxy)</code>、<code>Object.keys(proxy)</code>、<code>for...in</code> 循环等操作，其中 <code>target</code> 表示的是获取对象自身所有的属性名。</p> <h5 id="_6-getownpropertydescriptor-target-propkey"><a href="#_6-getownpropertydescriptor-target-propkey" class="header-anchor">#</a> 6. getOwnPropertyDescriptor(target, propKey)</h5> <p>拦截 <code>Object.getOwnPropertyDescriptor(proxy, propKey)</code>操作，返回属性的属性描述符构成的对象，其中 <code>target</code> 表示目标对象，<code>propKey</code> 表示需要获取属性描述符集合的属性。</p> <h5 id="_7-defineproperty-target-propkey-propdesc"><a href="#_7-defineproperty-target-propkey-propdesc" class="header-anchor">#</a> 7. defineProperty(target, propKey, propDesc)</h5> <p>拦截 <code>Object.defineProperty(proxy, propKey, propDesc）</code>、<code>Object.defineProperties(proxy,propDescs)</code>操作，返回一个布尔值，其中 <code>target</code> 表示目标对象，<code>propKey</code> 表示新增的属性，<code>propDesc</code> 表示的是属性描述符对象。</p> <h5 id="_8-prevententensions-target"><a href="#_8-prevententensions-target" class="header-anchor">#</a> 8. preventEntensions(target)</h5> <p>拦截 <code>Object.preventExtensions(proxy)</code>操作，返回一个布尔值，表示的是让一个对象变得不可扩展，不能再增加新的属性，其中 <code>target</code> 表示目标对象。</p> <h5 id="_9-getprototypeof-target"><a href="#_9-getprototypeof-target" class="header-anchor">#</a> 9. getPrototypeOf(target)</h5> <p>拦截 <code>Object.getPrototypeOf(proxy)</code>操作，返回一个对象，表示的是拦截获取对象原型属性，其中 <code>target</code> 表示目标对象。</p> <h5 id="_10-isextensible-target"><a href="#_10-isextensible-target" class="header-anchor">#</a> 10. isExtensible(target)</h5> <p>拦截 <code>Object.isExtensible(proxy)</code>，返回一个布尔值，表示对象是否是可扩展的，其中 <code>target</code> 表示目标对象。</p> <h5 id="_11-setprototypeof-target-proto"><a href="#_11-setprototypeof-target-proto" class="header-anchor">#</a> 11. setPrototypeOf(target, proto)</h5> <p>拦截 <code>Object.setPrototypeOf(proxy, proto)</code>操作，返回一个布尔值，表示的是拦截设置对象的原型属性的行为，其中 <code>target</code> 表示目标对象，<code>proto</code> 表示新的原型对象。</p> <h5 id="_12-apply-target-object-args"><a href="#_12-apply-target-object-args" class="header-anchor">#</a> 12. apply(target, object, args)</h5> <p>拦截 <code>Proxy</code> 实例作为函数调用的操作，例如 <code>proxy(...args)</code>、<code>proxy.call(object,...args)</code>、<code>proxy.apply(...)</code>，其中 <code>target</code> 表示目标对象，<code>object</code> 表示函数的调用方，<code>args</code> 表示函数调用传递的参数。</p> <h5 id="_13-construct-target-args"><a href="#_13-construct-target-args" class="header-anchor">#</a> 13. construct(target, args)</h5> <p>拦截 <code>Proxy</code> 实例作为构造函数调用的操作，例如 <code>new proxy(...args)</code>，其中 <code>target</code> 表示目标对象，<code>args</code> 表示函数调用传递的参数。</p> <h2 id="reflect"><a href="#reflect" class="header-anchor">#</a> Reflect</h2> <p><code>Reflect</code> 对象的方法与 <code>Proxy</code> 对象的方法一一对应, 让 <code>Proxy</code> 对象可以方便地调用对应的 <code>Reflect</code> 方法, 完成默认行为, 作为修改行为的基础. 也就是说, 不管 <code>Proxy</code> 怎么修改默认行为, 总是可以在 <code>Reflect</code> 中获取默认行为.</p> <h2 id="promise"><a href="#promise" class="header-anchor">#</a> Promise</h2> <h3 id="promise-的生命周期"><a href="#promise-的生命周期" class="header-anchor">#</a> Promise 的生命周期</h3> <p>每个<code>Promise</code>对象都有 3 种状态:</p> <ol><li><code>pending</code></li> <li><code>fulfilled</code></li> <li><code>rejected</code></li></ol> <p><code>Promise</code>在创建时处于<code>pending</code>状态, 状态的改变只有两种可能, 执行成功时, 由<code>pending</code>状态变成<code>fulfilled</code>状态; 执行失败时, 由<code>pending</code>状态变成<code>rejected</code>状态.</p> <h3 id="promise-的基本用法"><a href="#promise-的基本用法" class="header-anchor">#</a> Promise 的基本用法</h3> <p><code>Promise</code> 对象本身是一个构造函数，可以通过 <code>new</code> 操作符生成 <code>Promise</code> 的实例</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...some code</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token comment">/* 异步操作成功 */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>Promise</code>实例生成后, 可以用 <code>then</code> 方法分别制定 <code>resolved</code> 状态和 <code>rejected</code> 状态的回调函数:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// success</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// failure</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><hr> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>更多 ES6 相关的内容参见阮一峰的<a href="https://es6.ruanyifeng.com/" target="_blank" rel="noopener noreferrer">《ESMAScript 6 入门教程》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/FlyingCaiChong/blog/edit/master/docs/web/javascript/es6.md" target="_blank" rel="noopener noreferrer">改善此页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2023/2/3 上午8:17:02</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/web/javascript/function.html" class="prev">
        JavaScript函数
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.7c1f28a3.js" defer></script><script src="/assets/js/2.e37c797f.js" defer></script><script src="/assets/js/31.987990f2.js" defer></script>
  </body>
</html>
